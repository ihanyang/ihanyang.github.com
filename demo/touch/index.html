<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<meta name="theme-color" content="#F14382"/>
<meta name="msapplication-TileColor" content="#f14382">
<meta name="application-name" content="Chrome11111111111111">
<title>touch</title>
<style>
	body, div {
		padding: 0;
		margin: 0;
	}
	img {
		display: block;
		width: 100%;
	}
	#app {
		/* width: 100%; */
		height: 100vh;
		margin: 0px auto;
		position: relative;
		/* border: 1px solid teal; */
	}
	.panel {
		width: 400px;
		height: 100px;
		position: absolute;
		top: 0;
		left: 0;
		/* will-change: transform; */
		background-color: teal;
	}

	::selection {
		background-color: teal;
	}
</style>
</head>
<body>
	<div id="app">
		<!-- <img src="./mao.jpg"> -->
		<div class="panel">黄山晚霞的最佳地点是西海的排云亭和丹霞峰。黄山是云雾之乡，一年中200天有云雾。看云海，以玉屏楼观前海、清凉台观后海、白鹅岭观东海、排云亭看西海、光明顶看天海最宜。</div>
	</div>

	<script>
		let app = document.querySelector("#app"),
			panel = document.querySelector(".panel"),
			x = 0,
			y = 0,
			timer = null

		document.addEventListener("click" , () => {
			// ! x ? (timer = setInterval(() => {
			// 	panel.style.top = ++y + "px"
			// 	panel.style.left = ++x + "px"
			// }, 50)) : clearInterval(timer)


			// ! x ? (timer = setInterval(() => {
			// 	panel.style.transform = `translate3d(${++x}px, ${++y}px, 0)`
			// 	//panel.style. = ++x + "px"
			// }, 50)) : clearInterval(timer)

			// requestAnimationFrame(function step() {
			// 	//panel.style.transform = `translate3d(${++x}px, ${++y}px, 0)`
			// 		panel.style.top = ++y + "px"
			// 		panel.style.left = ++x + "px"

			// 	if (x < 500) {
			// 		requestAnimationFrame(step)
			// 	}
			// })
			var selection = getSelection()
			var range = document.createRange()

			range.selectNode(panel)

			selection.addRange(range)

			document.execCommand("copy")

		} ,false);


		// let app = document.querySelector("#app"),
		// 	img = document.querySelector("img")

		// app.addEventListener("touchstart", (e) => {
		// 	app.startTime = Date.now()

		// 	app.startX = e.touches[0].pageX
		// 	app.startY = e.touches[0].pageY

		// 	// 长按
		// 	app.timer = setTimeout(() => {
		// 		console.log("长按触发了")
		// 	}, 1000)

		// 	// pinch
		// 	if (e.touches.length === 2) {
		// 		app.pinch1X = e.touches[0].pageX
		// 		app.pinch1Y = e.touches[0].pageY

		// 		app.pinch2X = e.touches[1].pageX
		// 		app.pinch2Y = e.touches[1].pageY

		// 		let x = Math.abs(app.pinch2X - app.pinch1X)
		// 		let y = Math.abs(app.pinch2Y - app.pinch1Y)

		// 		app.disance = Math.sqrt(x * x + y * y)
		// 	}
		// }, false)

		// app.addEventListener("touchmove", (e) => {
		// 	clearTimeout(app.timer)

		// 	app.pinch1X = e.touches[0].pageX
		// 	app.pinch1Y = e.touches[0].pageY

		// 	app.pinch2X = e.touches[1].pageX
		// 	app.pinch2Y = e.touches[1].pageY

		// 	if (e.touches.length === 2) {
		// 		let x = Math.abs(app.pinch2X - app.pinch1X)
		// 		let y = Math.abs(app.pinch2Y - app.pinch1Y)

		// 		let = disance = Math.sqrt(x * x + y * y)
		// 		let scale = disance / app.disance

		// 		app.style.transform = "scale(" + scale + ")"
		// 	}
		// }, false)

		// app.addEventListener("touchend", (e) => {
		// 	let startTime = app.startTime
		// 	let endTime = Date.now()

		// 	let startX = app.startX
		// 	let startY = app.startY

		// 	let endX = e.changedTouches[0].pageX
		// 	let endY = e.changedTouches[0].pageY

		// 	if (endTime - startTime <= 300) {
		// 		if (Math.abs(endX - startX) <= 10 && Math.abs(endY - startY) <= 20) {
		// 			console.log("tap 事件触发了")
		// 		}
		// 	}

		// 	if (endTime - startTime <= 200) {
		// 		if (Math.abs(startX - endX) > 50 && Math.abs(startY - endY) < 20) {
		// 			if (startX - endX > 0) {
		// 				console.log("swipeLeft 事件触发了")
		// 			}

		// 			if (startX - endX < 0) {
		// 				console.log("swipeRight 事件触发了")
		// 			}
		// 		}

		// 		if (Math.abs(startY - endY) > 50 && Math.abs(startX - endX) < 20) {
		// 			if (startY - endY > 0) {
		// 				console.log("swipeUp 事件触发了")
		// 			}

		// 			if (startY - endY < 0) {
		// 				console.log("swipeDown 事件触发了")
		// 			}
		// 		}
		// 	}

		// 	if (endTime - startTime < 1000) {
		// 		clearTimeout(app.timer)
		// 	}
		// }, false)







		// var search = location.search.slice(1)
		// var hash = {}

		// search.replace(/([^=&]+)=([^&]+)/, (match, key, value) => {
		// 	hash[key] = value
		// })

		// console.log(hash)


		// var hash = {
		// 	a: 1,
		// 	b: 2,
		// 	c: 3
		// }
		// var result = []

		// Object.keys(hash).forEach((key) => {
		// 	result.push(`${key}=${hash[key]}`)
		// })

		// console.log(result.join('&'))


		function timeout(ms) {
		  return new Promise((resolve, reject) => {
		    setTimeout(resolve, ms, 'done');
		  });
		}

		timeout(1000).then((value) => {
		  document.body.insertAdjacentHTML("beforebegin", "<h1>hello hanyang</h1>")
		});
	</script>
</body>
</html>